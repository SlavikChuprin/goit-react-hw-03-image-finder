{"version":3,"sources":["components/Searchbar/Searchbar.js","components/ImageGalleryItem/ImageGalleryItem.js","components/services/Pixabay-api.js","components/Loader/Loader.js","components/Button/Button.js","components/Modal/Modal.js","components/ImageGallery/ImageGallery.js","App.js","reportWebVitals.js","index.js"],"names":["Searchbar","state","request","handleNameChange","event","setState","currentTarget","value","toLowerCase","handleSubmit","preventDefault","props","onSubmit","this","className","type","autoComplete","autoFocus","placeholder","onChange","Component","propsType","PropTypes","func","isRequired","ImageGalleryItem","openModal","e","pic","largeImageURL","tags","onClick","webformatURL","src","alt","string","api","fetchPictures","page","fetch","then","response","ok","json","Promise","reject","Error","LoaderPics","color","height","width","timeout","Button","changePage","window","scrollTo","top","document","documentElement","scrollHeight","behavior","onPageChange","modalRoot","querySelector","Modal","handleKeyDown","code","console","log","onClose","handleBackdropClick","target","addEventListener","removeEventListener","createPortal","ImageGallery","pictures","status","showModal","dataForModal","onModalToggle","data","prevProps","prevState","prevRequest","nextRequest","prevPage","nextPage","picsAPI","obj","hits","catch","error","map","uuidv4","App","submitData","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.7cf7898c.chunk.js","sourcesContent":["import { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport '../styles.css';\r\n\r\nclass Searchbar extends Component {\r\n  static propsType = {\r\n    onSubmit: PropTypes.func.isRequired,\r\n  };\r\n  state = {\r\n    request: '',\r\n  };\r\n\r\n  handleNameChange = event => {\r\n    this.setState({ request: event.currentTarget.value.toLowerCase() });\r\n  };\r\n\r\n  handleSubmit = event => {\r\n    event.preventDefault();\r\n    this.props.onSubmit(this.state.request);\r\n  };\r\n\r\n  render() {\r\n    const { request } = this.state;\r\n    return (\r\n      <header className=\"Searchbar\">\r\n        <form className=\"SearchForm\" onSubmit={this.handleSubmit}>\r\n          <button type=\"submit\" className=\"SearchForm-button\">\r\n            <span className=\"SearchForm-button-label\">Search</span>\r\n          </button>\r\n\r\n          <input\r\n            className=\"SearchForm-input\"\r\n            type=\"text\"\r\n            autoComplete=\"off\"\r\n            autoFocus\r\n            placeholder=\"Search images and photos\"\r\n            value={request}\r\n            onChange={this.handleNameChange}\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Searchbar;\r\n","import PropTypes from 'prop-types';\r\nimport { Component } from 'react';\r\n\r\nexport default class ImageGalleryItem extends Component {\r\n  static propsType = {\r\n    webformatURL: PropTypes.string.isRequired,\r\n    tags: PropTypes.string.isRequired,\r\n  };\r\n\r\n  openModal = e => {\r\n    const { largeImageURL, tags } = this.props.pic;\r\n    // this.setState({ largeImageURL: largeImageURL, tags: tags });\r\n\r\n    this.props.onClick({ largeImageURL, tags });\r\n  };\r\n  render() {\r\n    const { webformatURL, tags } = this.props.pic;\r\n    return (\r\n      <li className=\"ImageGalleryItem\">\r\n        <img\r\n          src={webformatURL}\r\n          alt={tags}\r\n          className=\"ImageGalleryItem-image\"\r\n          onClick={this.openModal}\r\n        />\r\n      </li>\r\n    );\r\n  }\r\n}\r\n","function fetchPictures(request, page) {\r\n  return fetch(\r\n    `https://pixabay.com/api/?q=${request}&page=${page}&key=23343494-643d22eb41994b430f7c237c0&image_type=photo&orientation=horizontal&per_page=12`,\r\n  ).then(response => {\r\n    if (response.ok) {\r\n      return response.json();\r\n    }\r\n\r\n    return Promise.reject(\r\n      new Error(`We have not pictures for request ${request}`),\r\n    );\r\n  });\r\n}\r\n\r\nconst api = {\r\n  fetchPictures,\r\n};\r\n\r\nexport default api;\r\n","import Loader from 'react-loader-spinner';\r\nimport { Component } from 'react';\r\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\r\nexport default class LoaderPics extends Component {\r\n  render() {\r\n    return (\r\n      <Loader\r\n        type=\"Puff\"\r\n        color=\"#00BFFF\"\r\n        height={100}\r\n        width={100}\r\n        timeout={3000} //3 secs\r\n      />\r\n    );\r\n  }\r\n}\r\n","import { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nexport default class Button extends Component {\r\n  static propTypes = {\r\n    onPageChange: PropTypes.func.isRequired,\r\n  };\r\n  changePage = () => {\r\n    window.scrollTo({\r\n      top: document.documentElement.scrollHeight,\r\n      behavior: 'smooth',\r\n    });\r\n    this.props.onPageChange();\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <button type=\"button\" className=\"Button\" onClick={this.changePage}>\r\n        Load more\r\n      </button>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from 'react';\r\nimport { createPortal } from 'react-dom';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst modalRoot = document.querySelector('#modal-root');\r\n\r\nexport default class Modal extends Component {\r\n  static propTypes = {\r\n    dataForMadal: PropTypes.shape({\r\n      largeImageURL: PropTypes.string.isRequired,\r\n      tags: PropTypes.string,\r\n    }),\r\n    onClose: PropTypes.func.isRequired,\r\n  };\r\n  componentDidMount() {\r\n    window.addEventListener('keydown', this.handleKeyDown);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('keydown', this.handleKeyDown);\r\n  }\r\n\r\n  handleKeyDown = e => {\r\n    if (e.code === 'Escape') {\r\n      console.log('Нажали ESC, нужно закрыть модалку');\r\n\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  handleBackdropClick = event => {\r\n    if (event.currentTarget === event.target) {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { largeImageURL, tags } = this.props.pic;\r\n    return createPortal(\r\n      <div className=\"Overlay\" onClick={this.handleBackdropClick}>\r\n        <div className=\"Modal\">\r\n          <img src={largeImageURL} alt={tags} />\r\n        </div>\r\n      </div>,\r\n\r\n      modalRoot,\r\n    );\r\n  }\r\n}\r\n","import { Component } from 'react';\r\nimport { v4 as uuidv4 } from 'uuid';\r\nimport PropTypes from 'prop-types';\r\nimport ImageGalleryItem from '../ImageGalleryItem';\r\nimport picsAPI from '../services/Pixabay-api';\r\nimport LoaderPics from '../Loader';\r\nimport Button from '../Button/';\r\nimport Modal from '../Modal';\r\nexport default class ImageGallery extends Component {\r\n  static propsType = {\r\n    request: PropTypes.string.isRequired,\r\n  };\r\n\r\n  state = {\r\n    pictures: [],\r\n    status: 'idle',\r\n    showModal: false,\r\n    page: 1,\r\n    dataForModal: {},\r\n  };\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    const prevRequest = prevProps.request;\r\n    const nextRequest = this.props.request;\r\n    const prevPage = prevState.page;\r\n    const nextPage = this.state.page;\r\n\r\n    if (prevRequest !== nextRequest) {\r\n      picsAPI\r\n        .fetchPictures(nextRequest, 1)\r\n        .then(obj => {\r\n          this.setState({\r\n            pictures: obj.hits,\r\n            status: 'resolved',\r\n            page: 1,\r\n          });\r\n          console.log(obj);\r\n        })\r\n        .catch(error => {\r\n          this.setState({ error: error, status: 'rejected' });\r\n        });\r\n    }\r\n    if (prevPage !== nextPage) {\r\n      this.setState({ status: 'pending' });\r\n\r\n      picsAPI\r\n        .fetchPictures(nextRequest, nextPage)\r\n        .then(obj => {\r\n          this.setState({\r\n            pictures: [...this.state.pictures, ...obj.hits],\r\n            status: 'resolved',\r\n          });\r\n          console.log(this.state);\r\n        })\r\n        .catch(error => this.setState({ error, status: 'rejected' }));\r\n    }\r\n  }\r\n  onPageChange = () => {\r\n    this.setState(({ page }) => ({ page: page + 1 }));\r\n    console.log(this.state.page);\r\n  };\r\n\r\n  onModalToggle = data => {\r\n    this.setState(({ showModal, dataForModal }) => ({\r\n      showModal: !showModal,\r\n      dataForModal: data,\r\n    }));\r\n  };\r\n\r\n  render() {\r\n    const { pictures, status, error, showModal, dataForModal } = this.state;\r\n\r\n    if (status === 'idle') {\r\n      return <div> There will be pictures for you request...</div>;\r\n    }\r\n    if (status === 'pending') {\r\n      return <LoaderPics />;\r\n    }\r\n\r\n    if (status === 'rejected') {\r\n      return <div> {error} </div>;\r\n    }\r\n    if (status === 'resolved') {\r\n      return (\r\n        <div>\r\n          <ul className=\"ImageGallery\">\r\n            {pictures.map(pic => (\r\n              <ImageGalleryItem\r\n                key={uuidv4()}\r\n                pic={pic}\r\n                onClick={this.onModalToggle}\r\n              />\r\n            ))}\r\n          </ul>\r\n          <Button onPageChange={this.onPageChange} />\r\n          {showModal && (\r\n            <Modal pic={dataForModal} onClose={this.onModalToggle} />\r\n          )}\r\n        </div>\r\n      );\r\n    }\r\n  }\r\n}\r\n","import { Component } from 'react';\nimport './App.css';\nimport Searchbar from './components/Searchbar';\nimport ImageGallery from './components/ImageGallery';\n\nclass App extends Component {\n  state = {\n    request: '',\n  };\n  submitData = request => {\n    this.setState({ request });\n  };\n\n  render() {\n    const { request } = this.state;\n    return (\n      <div className=\"App\">\n        <Searchbar onSubmit={this.submitData} />\n        <ImageGallery request={request} />\n      </div>\n    );\n  }\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}